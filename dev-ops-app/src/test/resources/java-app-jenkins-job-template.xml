<?xml version='1.1' encoding='UTF-8'?>
<project>
    <actions/>
    <description>${description}</description>
    <keepDependencies>false</keepDependencies>
    <properties>
        <jenkins.model.BuildDiscarderProperty>
            <strategy class="hudson.tasks.LogRotator">
                <daysToKeep>-1</daysToKeep>
                <numToKeep>3</numToKeep>
                <artifactDaysToKeep>-1</artifactDaysToKeep>
                <artifactNumToKeep>-1</artifactNumToKeep>
            </strategy>
        </jenkins.model.BuildDiscarderProperty>
    </properties>
    <scm class="hudson.plugins.git.GitSCM" plugin="git@4.7.2">
        <configVersion>2</configVersion>
        <userRemoteConfigs>
            <hudson.plugins.git.UserRemoteConfig>
                <url>${gitUrl}</url>
                <credentialsId>gitlab_reader</credentialsId>
            </hudson.plugins.git.UserRemoteConfig>
        </userRemoteConfigs>
        <branches>
            <hudson.plugins.git.BranchSpec>
                <name>*/${gitBranch}</name>
            </hudson.plugins.git.BranchSpec>
        </branches>
        <doGenerateSubmoduleConfigurations>false</doGenerateSubmoduleConfigurations>
        <submoduleCfg class="empty-list"/>
        <extensions/>
    </scm>
    <canRoam>true</canRoam>
    <disabled>false</disabled>
    <blockBuildWhenDownstreamBuilding>false</blockBuildWhenDownstreamBuilding>
    <blockBuildWhenUpstreamBuilding>false</blockBuildWhenUpstreamBuilding>
    <triggers>
        <com.dabsquared.gitlabjenkins.GitLabPushTrigger plugin="gitlab-plugin@1.5.20">
            <spec></spec>
            <triggerOnPush>true</triggerOnPush>
            <triggerToBranchDeleteRequest>false</triggerToBranchDeleteRequest>
            <triggerOnMergeRequest>true</triggerOnMergeRequest>
            <triggerOnlyIfNewCommitsPushed>false</triggerOnlyIfNewCommitsPushed>
            <triggerOnPipelineEvent>false</triggerOnPipelineEvent>
            <triggerOnAcceptedMergeRequest>false</triggerOnAcceptedMergeRequest>
            <triggerOnClosedMergeRequest>false</triggerOnClosedMergeRequest>
            <triggerOnApprovedMergeRequest>true</triggerOnApprovedMergeRequest>
            <triggerOpenMergeRequestOnPush>never</triggerOpenMergeRequestOnPush>
            <triggerOnNoteRequest>true</triggerOnNoteRequest>
            <noteRegex>Jenkins please retry a build</noteRegex>
            <ciSkip>true</ciSkip>
            <skipWorkInProgressMergeRequest>true</skipWorkInProgressMergeRequest>
            <labelsThatForcesBuildIfAdded></labelsThatForcesBuildIfAdded>
            <setBuildDescription>true</setBuildDescription>
            <branchFilterType>RegexBasedFilter</branchFilterType>
            <includeBranchesSpec></includeBranchesSpec>
            <excludeBranchesSpec></excludeBranchesSpec>
            <sourceBranchRegex></sourceBranchRegex>
            <targetBranchRegex>${gitBranch}</targetBranchRegex>
            <secretToken>${secretToken}</secretToken>
            <pendingBuildName></pendingBuildName>
            <cancelPendingBuildsOnUpdate>false</cancelPendingBuildsOnUpdate>
        </com.dabsquared.gitlabjenkins.GitLabPushTrigger>
    </triggers>
    <concurrentBuild>false</concurrentBuild>
    <builders>
        <hudson.tasks.Maven>
            <targets>clean install -U -e</targets>
            <mavenName>maven3</mavenName>
            <pom>pom.xml</pom>
            <properties>skipTests=true</properties>
            <usePrivateRepository>false</usePrivateRepository>
            <settings class="jenkins.mvn.DefaultSettingsProvider"/>
            <globalSettings class="jenkins.mvn.DefaultGlobalSettingsProvider"/>
            <injectBuildVariables>false</injectBuildVariables>
        </hudson.tasks.Maven>
        <jenkins.plugins.publish__over__ssh.BapSshBuilderPlugin plugin="publish-over-ssh@1.22">
            <delegate>
                <consolePrefix>SSH: </consolePrefix>
                <delegate plugin="publish-over@0.22">
                    <publishers>
                        <jenkins.plugins.publish__over__ssh.BapSshPublisher plugin="publish-over-ssh@1.22">
                            <configName>开发测试服务器</configName>
                            <verbose>false</verbose>
                            <transfers>
                                <jenkins.plugins.publish__over__ssh.BapSshTransfer>
                                    <remoteDirectory>/data/fei_app_dev</remoteDirectory>
                                    <sourceFiles>target/${appName}/**/*.jar</sourceFiles>
                                    <excludes></excludes>
                                    <removePrefix>target</removePrefix>
                                    <remoteDirectorySDF>false</remoteDirectorySDF>
                                    <flatten>false</flatten>
                                    <cleanRemote>false</cleanRemote>
                                    <noDefaultExcludes>false</noDefaultExcludes>
                                    <makeEmptyDirs>false</makeEmptyDirs>
                                    <patternSeparator>[, ]+</patternSeparator>
                                    <execCommand>
cd /data/fei_app_dev/${appName}
nohup java -jar -server -XX:MetaspaceSize=64m -XX:MaxMetaspaceSize=128m -Xms128m -Xmx128m -Xss256k -XX:+UseG1GC -XX:ParallelGCThreads=2 -Djetty.port=${port} ${appName}-main.jar &gt;/dev/null 2&gt;&amp;1 &amp;</execCommand>
                                    <execTimeout>60000</execTimeout>
                                    <usePty>false</usePty>
                                    <useAgentForwarding>false</useAgentForwarding>
                                    <useSftpForExec>false</useSftpForExec>
                                </jenkins.plugins.publish__over__ssh.BapSshTransfer>
                            </transfers>
                            <useWorkspaceInPromotion>false</useWorkspaceInPromotion>
                            <usePromotionTimestamp>false</usePromotionTimestamp>
                        </jenkins.plugins.publish__over__ssh.BapSshPublisher>
                    </publishers>
                    <continueOnError>false</continueOnError>
                    <failOnError>false</failOnError>
                    <alwaysPublishFromMaster>false</alwaysPublishFromMaster>
                    <hostConfigurationAccess class="jenkins.plugins.publish_over_ssh.BapSshPublisherPlugin" reference="../.."/>
                </delegate>
            </delegate>
        </jenkins.plugins.publish__over__ssh.BapSshBuilderPlugin>
    </builders>
    <publishers/>
    <buildWrappers/>
</project>